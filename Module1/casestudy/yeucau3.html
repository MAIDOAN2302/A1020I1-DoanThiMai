<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Yêu cầu 3</title>
</head>
<body>
<script>
    let name;
    let cmnd;
    let birthday;
    let email;
    let address;
    let typeService;
    let typeRom;
    let discount;
    let quantilyIncluded;
    let renDays;
    let totalPay;
    let check = false;

    let tempName = "";
    name = prompt("Input name: ");
    name = name.trim(). toLowerCase();
    for (let i = 0; i < name.length; i++) {
        if (name.charAt(i)===" " && name.charAt(i + 1)===" "){
            continue;
        }
        if (i === 0 || name.charAt(i - 1) === " ") {
            tempName += name.charAt(i). toUpperCase();
            continue;
        }
        tempName += name.charAt(i);
    }
   name = tempName;
    do {
        cmnd = prompt("Input cmnd: ");
        if (!isNaN(cmnd)){
            cmnd = Number.parseFloat(cmnd);
        }
        if (!Number.isInteger(cmnd)){
            alert("cmnd không đúng định dạng");
            continue;
        }
        if (cmnd<10000000 || cmnd > 99999999){
            alert("cmnd không đúng định dạng");
            continue;
        }
        check = true;
    }while (!check);
    check = false;
    do {
        birthday = prompt("Input birthday: ");
        if (birthday.charAt(2)==="/"&& birthday.charAt(5)==="/"){
            let day = birthday.substring(0,2);
            let month = birthday.substring(3,5);
            let year = birthday.substring(6,10);
            if (!isNaN(day)&& !isNaN(month)&&!isNaN(year)){
                day = Number.parseFloat(day);
                month = Number.parseFloat(month);
                year = Number.parseFloat(year);
                if (Number.isInteger(day)&& Number.isInteger(month)&&Number.isInteger(year)){
                    if (day < 32 && month < 13 && year < 2020){
                        check = true;
                    }
                }
            }
        }
        if (!check){
            alert("Ngày sinh không đúng định dạng");
        }
    }while (!check);
    check = false;
    do {
        let countAt = 0;
        let countDoc = 0;
        email = prompt("Input email");
        for (let i = 0; i < email.length; i++) {
            if (email.charAt(i) === "@") {
                countAt++;
                for (let j = i + 1; j < email.length; j++){
                    if (email.charAt(j) === ".") {
                        countDoc++;
                    }
                }
            }
        }
        if (countAt !== 1 || countDoc<1){
            alert("Email bạn nhập không đúng");
        }else {
            check = true;
        }
    } while (!check);
    check = false;
    address = prompt("Input address: ");
    typeService = prompt("Input typeService: ");
    typeRom = prompt("Input typeRom: ");
    discount = prompt("Input discount: ");
    do {
        quantilyIncluded = prompt("Input quantity Included: ");
        if (!isNaN(quantilyIncluded)){
            quantilyIncluded = Number.parseFloat(quantilyIncluded);
            if (Number.isInteger(quantilyIncluded)&& quantilyIncluded>0){
                check = true;
            }
        }
        if (!check){
            alert("quantity Included không phải là số nguyên");
        }
    }while (!check);
    check = false;
    do {
        renDays = prompt("Input renDays: ");
        if (!isNaN(renDays)){
            renDays = Number.parseFloat(renDays);
            if (Number.isInteger(renDays)&& renDays>0){
                check = true;
            }
        }
        if (!check){
            alert("renday không phải là số nguyên dương");
        }
    }while (!check);


    totalPay = 300 * renDays * (1 - discount / 100);

    alert("name: " + name + "\n" +
        "cmnd" + cmnd + "\n" + "totalPay: " + totalPay);
</script>
</body>
</html>